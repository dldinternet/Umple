<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.36.0 (20140111.2315)
 -->
<!-- Title: CanalLockStateMachine Pages: 1 -->
<svg width="714pt" height="720pt"
 viewBox="0.00 0.00 714.32 720.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(0.810811 0.810811) rotate(0) translate(4 884)">
<title>CanalLockStateMachine</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-884 877,-884 877,4 -4,4"/>
<!-- start_Lock_lockState -->
<g id="node1" class="node"><title>start_Lock_lockState</title>
<ellipse fill="black" stroke="black" cx="207" cy="-873" rx="7.2" ry="7.2"/>
</g>
<!-- Lock_lockState_BothDoorsClosedLockFull -->
<g id="node2" class="node"><title>Lock_lockState_BothDoorsClosedLockFull</title>
<path fill="none" stroke="black" d="M279,-828C279,-828 135,-828 135,-828 129,-828 123,-822 123,-816 123,-816 123,-804 123,-804 123,-798 129,-792 135,-792 135,-792 279,-792 279,-792 285,-792 291,-798 291,-804 291,-804 291,-816 291,-816 291,-822 285,-828 279,-828"/>
<text text-anchor="middle" x="207" y="-806.3" font-family="Times,serif" font-size="14.00">BothDoorsClosedLockFull</text>
</g>
<!-- start_Lock_lockState&#45;&gt;Lock_lockState_BothDoorsClosedLockFull -->
<g id="edge1" class="edge"><title>start_Lock_lockState&#45;&gt;Lock_lockState_BothDoorsClosedLockFull</title>
<path fill="none" stroke="black" d="M207,-865.472C207,-858.902 207,-848.324 207,-838.229"/>
<polygon fill="black" stroke="black" points="210.5,-838.073 207,-828.073 203.5,-838.073 210.5,-838.073"/>
</g>
<!-- Lock_lockState_OpeningUpperGate -->
<g id="node3" class="node"><title>Lock_lockState_OpeningUpperGate</title>
<path fill="none" stroke="black" d="M531,-740C531,-740 429,-740 429,-740 423,-740 417,-734 417,-728 417,-728 417,-716 417,-716 417,-710 423,-704 429,-704 429,-704 531,-704 531,-704 537,-704 543,-710 543,-716 543,-716 543,-728 543,-728 543,-734 537,-740 531,-740"/>
<text text-anchor="middle" x="480" y="-718.3" font-family="Times,serif" font-size="14.00">OpeningUpperGate</text>
</g>
<!-- Lock_lockState_BothDoorsClosedLockFull&#45;&gt;Lock_lockState_OpeningUpperGate -->
<g id="edge3" class="edge"><title>Lock_lockState_BothDoorsClosedLockFull&#45;&gt;Lock_lockState_OpeningUpperGate</title>
<path fill="none" stroke="black" d="M261.262,-791.906C305.83,-777.867 369.046,-757.953 416.065,-743.141"/>
<polygon fill="black" stroke="black" points="417.354,-746.404 425.84,-740.061 415.251,-739.728 417.354,-746.404"/>
<text text-anchor="middle" x="466" y="-762.3" font-family="Times,serif" font-size="14.00">boatRequestsToEnterAndGoDown</text>
</g>
<!-- Lock_lockState_LoweringWater -->
<g id="node6" class="node"><title>Lock_lockState_LoweringWater</title>
<path fill="none" stroke="black" d="M280.25,-476C280.25,-476 199.75,-476 199.75,-476 193.75,-476 187.75,-470 187.75,-464 187.75,-464 187.75,-452 187.75,-452 187.75,-446 193.75,-440 199.75,-440 199.75,-440 280.25,-440 280.25,-440 286.25,-440 292.25,-446 292.25,-452 292.25,-452 292.25,-464 292.25,-464 292.25,-470 286.25,-476 280.25,-476"/>
<text text-anchor="middle" x="240" y="-454.3" font-family="Times,serif" font-size="14.00">LoweringWater</text>
</g>
<!-- Lock_lockState_BothDoorsClosedLockFull&#45;&gt;Lock_lockState_LoweringWater -->
<g id="edge8" class="edge"><title>Lock_lockState_BothDoorsClosedLockFull&#45;&gt;Lock_lockState_LoweringWater</title>
<path fill="none" stroke="black" d="M122.805,-806.199C65.4961,-799.245 0,-779.038 0,-723 0,-723 0,-723 0,-545 0,-507.296 106.298,-481.687 177.408,-468.774"/>
<polygon fill="black" stroke="black" points="178.393,-472.154 187.628,-466.961 177.17,-465.261 178.393,-472.154"/>
<text text-anchor="middle" x="89.5" y="-630.3" font-family="Times,serif" font-size="14.00">boatRequestsToEnterAndGoUp</text>
</g>
<!-- Lock_lockState_UpperGateOpen -->
<g id="node4" class="node"><title>Lock_lockState_UpperGateOpen</title>
<path fill="none" stroke="black" d="M522,-652C522,-652 438,-652 438,-652 432,-652 426,-646 426,-640 426,-640 426,-628 426,-628 426,-622 432,-616 438,-616 438,-616 522,-616 522,-616 528,-616 534,-622 534,-628 534,-628 534,-640 534,-640 534,-646 528,-652 522,-652"/>
<text text-anchor="middle" x="480" y="-630.3" font-family="Times,serif" font-size="14.00">UpperGateOpen</text>
</g>
<!-- Lock_lockState_OpeningUpperGate&#45;&gt;Lock_lockState_UpperGateOpen -->
<g id="edge5" class="edge"><title>Lock_lockState_OpeningUpperGate&#45;&gt;Lock_lockState_UpperGateOpen</title>
<path fill="none" stroke="black" d="M480,-703.597C480,-691.746 480,-675.817 480,-662.292"/>
<polygon fill="black" stroke="black" points="483.5,-662.084 480,-652.084 476.5,-662.084 483.5,-662.084"/>
<text text-anchor="middle" x="539.5" y="-674.3" font-family="Times,serif" font-size="14.00">upperGateFullyOpen</text>
</g>
<!-- Lock_lockState_ClosingUpperGate -->
<g id="node5" class="node"><title>Lock_lockState_ClosingUpperGate</title>
<path fill="none" stroke="black" d="M288.25,-564C288.25,-564 191.75,-564 191.75,-564 185.75,-564 179.75,-558 179.75,-552 179.75,-552 179.75,-540 179.75,-540 179.75,-534 185.75,-528 191.75,-528 191.75,-528 288.25,-528 288.25,-528 294.25,-528 300.25,-534 300.25,-540 300.25,-540 300.25,-552 300.25,-552 300.25,-558 294.25,-564 288.25,-564"/>
<text text-anchor="middle" x="240" y="-542.3" font-family="Times,serif" font-size="14.00">ClosingUpperGate</text>
</g>
<!-- Lock_lockState_UpperGateOpen&#45;&gt;Lock_lockState_ClosingUpperGate -->
<g id="edge6" class="edge"><title>Lock_lockState_UpperGateOpen&#45;&gt;Lock_lockState_ClosingUpperGate</title>
<path fill="none" stroke="black" d="M425.74,-632.87C362.806,-631.439 264.64,-624.818 241,-598 235.338,-591.577 233.81,-582.73 234.102,-574.208"/>
<polygon fill="black" stroke="black" points="237.593,-574.479 235.203,-564.157 230.634,-573.716 237.593,-574.479"/>
<text text-anchor="middle" x="356" y="-586.3" font-family="Times,serif" font-size="14.00">boatInLockRequestingToGoDown / {...}</text>
</g>
<!-- Lock_lockState_UpperGateOpen&#45;&gt;Lock_lockState_ClosingUpperGate -->
<g id="edge7" class="edge"><title>Lock_lockState_UpperGateOpen&#45;&gt;Lock_lockState_ClosingUpperGate</title>
<path fill="none" stroke="black" d="M481.69,-615.517C481.744,-604.4 479.751,-590.541 471,-582 448.705,-560.24 369.992,-551.992 310.596,-548.875"/>
<polygon fill="black" stroke="black" points="310.654,-545.374 300.496,-548.384 310.314,-552.366 310.654,-545.374"/>
<text text-anchor="middle" x="578.5" y="-586.3" font-family="Times,serif" font-size="14.00">after3minutes [!boatBlockingGate]</text>
</g>
<!-- Lock_lockState_ClosingUpperGate&#45;&gt;Lock_lockState_BothDoorsClosedLockFull -->
<g id="edge2" class="edge"><title>Lock_lockState_ClosingUpperGate&#45;&gt;Lock_lockState_BothDoorsClosedLockFull</title>
<path fill="none" stroke="black" d="M235.007,-564.336C233.539,-569.936 232.047,-576.196 231,-582 218.118,-653.394 211.387,-738.76 208.597,-781.607"/>
<polygon fill="black" stroke="black" points="205.091,-781.593 207.957,-791.793 212.078,-782.032 205.091,-781.593"/>
<text text-anchor="middle" x="338" y="-674.3" font-family="Times,serif" font-size="14.00">upperGateFullyClosed [!boatGoingDown]</text>
</g>
<!-- Lock_lockState_ClosingUpperGate&#45;&gt;Lock_lockState_LoweringWater -->
<g id="edge9" class="edge"><title>Lock_lockState_ClosingUpperGate&#45;&gt;Lock_lockState_LoweringWater</title>
<path fill="none" stroke="black" d="M240,-527.597C240,-515.746 240,-499.817 240,-486.292"/>
<polygon fill="black" stroke="black" points="243.5,-486.084 240,-476.084 236.5,-486.084 243.5,-486.084"/>
<text text-anchor="middle" x="356.5" y="-498.3" font-family="Times,serif" font-size="14.00">upperGateFullyClosed [boatGoingDown]</text>
</g>
<!-- Lock_lockState_OpeningLowerGate -->
<g id="node8" class="node"><title>Lock_lockState_OpeningLowerGate</title>
<path fill="none" stroke="black" d="M305,-388C305,-388 201,-388 201,-388 195,-388 189,-382 189,-376 189,-376 189,-364 189,-364 189,-358 195,-352 201,-352 201,-352 305,-352 305,-352 311,-352 317,-358 317,-364 317,-364 317,-376 317,-376 317,-382 311,-388 305,-388"/>
<text text-anchor="middle" x="253" y="-366.3" font-family="Times,serif" font-size="14.00">OpeningLowerGate</text>
</g>
<!-- Lock_lockState_LoweringWater&#45;&gt;Lock_lockState_OpeningLowerGate -->
<g id="edge11" class="edge"><title>Lock_lockState_LoweringWater&#45;&gt;Lock_lockState_OpeningLowerGate</title>
<path fill="none" stroke="black" d="M242.631,-439.597C244.422,-427.746 246.83,-411.817 248.875,-398.292"/>
<polygon fill="black" stroke="black" points="252.383,-398.495 250.418,-388.084 245.462,-397.449 252.383,-398.495"/>
<text text-anchor="middle" x="340.5" y="-410.3" font-family="Times,serif" font-size="14.00">waterLevelMatchesDownStream</text>
</g>
<!-- Lock_lockState_BothDoorsClosedLockEmpty -->
<g id="node7" class="node"><title>Lock_lockState_BothDoorsClosedLockEmpty</title>
<path fill="none" stroke="black" d="M572.25,-124C572.25,-124 413.75,-124 413.75,-124 407.75,-124 401.75,-118 401.75,-112 401.75,-112 401.75,-100 401.75,-100 401.75,-94 407.75,-88 413.75,-88 413.75,-88 572.25,-88 572.25,-88 578.25,-88 584.25,-94 584.25,-100 584.25,-100 584.25,-112 584.25,-112 584.25,-118 578.25,-124 572.25,-124"/>
<text text-anchor="middle" x="493" y="-102.3" font-family="Times,serif" font-size="14.00">BothDoorsClosedLockEmpty</text>
</g>
<!-- Lock_lockState_BothDoorsClosedLockEmpty&#45;&gt;Lock_lockState_OpeningLowerGate -->
<g id="edge12" class="edge"><title>Lock_lockState_BothDoorsClosedLockEmpty&#45;&gt;Lock_lockState_OpeningLowerGate</title>
<path fill="none" stroke="black" d="M491.265,-124.242C487.938,-151.534 478.938,-205.719 457,-246 431.575,-292.683 421.262,-306.124 376,-334 361.145,-343.149 343.821,-349.978 326.943,-355.051"/>
<polygon fill="black" stroke="black" points="325.751,-351.751 317.08,-357.839 327.654,-358.487 325.751,-351.751"/>
<text text-anchor="middle" x="554.5" y="-234.3" font-family="Times,serif" font-size="14.00">boatRequestsToEnterAndGoUp</text>
</g>
<!-- Lock_lockState_RaisingWater -->
<g id="node11" class="node"><title>Lock_lockState_RaisingWater</title>
<path fill="none" stroke="black" d="M527.25,-36C527.25,-36 458.75,-36 458.75,-36 452.75,-36 446.75,-30 446.75,-24 446.75,-24 446.75,-12 446.75,-12 446.75,-6 452.75,-0 458.75,-0 458.75,-0 527.25,-0 527.25,-0 533.25,-0 539.25,-6 539.25,-12 539.25,-12 539.25,-24 539.25,-24 539.25,-30 533.25,-36 527.25,-36"/>
<text text-anchor="middle" x="493" y="-14.3" font-family="Times,serif" font-size="14.00">RaisingWater</text>
</g>
<!-- Lock_lockState_BothDoorsClosedLockEmpty&#45;&gt;Lock_lockState_RaisingWater -->
<g id="edge16" class="edge"><title>Lock_lockState_BothDoorsClosedLockEmpty&#45;&gt;Lock_lockState_RaisingWater</title>
<path fill="none" stroke="black" d="M493,-87.5966C493,-75.7459 493,-59.8169 493,-46.2917"/>
<polygon fill="black" stroke="black" points="496.5,-46.084 493,-36.084 489.5,-46.084 496.5,-46.084"/>
<text text-anchor="middle" x="591" y="-58.3" font-family="Times,serif" font-size="14.00">boatRequestsToEnterAndGoDown</text>
</g>
<!-- Lock_lockState_LowerGateOpen -->
<g id="node9" class="node"><title>Lock_lockState_LowerGateOpen</title>
<path fill="none" stroke="black" d="M296,-300C296,-300 210,-300 210,-300 204,-300 198,-294 198,-288 198,-288 198,-276 198,-276 198,-270 204,-264 210,-264 210,-264 296,-264 296,-264 302,-264 308,-270 308,-276 308,-276 308,-288 308,-288 308,-294 302,-300 296,-300"/>
<text text-anchor="middle" x="253" y="-278.3" font-family="Times,serif" font-size="14.00">LowerGateOpen</text>
</g>
<!-- Lock_lockState_OpeningLowerGate&#45;&gt;Lock_lockState_LowerGateOpen -->
<g id="edge13" class="edge"><title>Lock_lockState_OpeningLowerGate&#45;&gt;Lock_lockState_LowerGateOpen</title>
<path fill="none" stroke="black" d="M253,-351.597C253,-339.746 253,-323.817 253,-310.292"/>
<polygon fill="black" stroke="black" points="256.5,-310.084 253,-300.084 249.5,-310.084 256.5,-310.084"/>
<text text-anchor="middle" x="312.5" y="-322.3" font-family="Times,serif" font-size="14.00">lowerGateFullyOpen</text>
</g>
<!-- Lock_lockState_ClosingLowerGate -->
<g id="node10" class="node"><title>Lock_lockState_ClosingLowerGate</title>
<path fill="none" stroke="black" d="M260.25,-212C260.25,-212 161.75,-212 161.75,-212 155.75,-212 149.75,-206 149.75,-200 149.75,-200 149.75,-188 149.75,-188 149.75,-182 155.75,-176 161.75,-176 161.75,-176 260.25,-176 260.25,-176 266.25,-176 272.25,-182 272.25,-188 272.25,-188 272.25,-200 272.25,-200 272.25,-206 266.25,-212 260.25,-212"/>
<text text-anchor="middle" x="211" y="-190.3" font-family="Times,serif" font-size="14.00">ClosingLowerGate</text>
</g>
<!-- Lock_lockState_LowerGateOpen&#45;&gt;Lock_lockState_ClosingLowerGate -->
<g id="edge14" class="edge"><title>Lock_lockState_LowerGateOpen&#45;&gt;Lock_lockState_ClosingLowerGate</title>
<path fill="none" stroke="black" d="M246.626,-263.714C242.752,-253.702 237.502,-240.952 232,-230 230.505,-227.024 228.851,-223.961 227.147,-220.943"/>
<polygon fill="black" stroke="black" points="230.072,-219.012 221.993,-212.158 224.034,-222.554 230.072,-219.012"/>
<text text-anchor="middle" x="346.5" y="-234.3" font-family="Times,serif" font-size="14.00">boatInLockRequestingToGoUp / {...}</text>
</g>
<!-- Lock_lockState_LowerGateOpen&#45;&gt;Lock_lockState_ClosingLowerGate -->
<g id="edge15" class="edge"><title>Lock_lockState_LowerGateOpen&#45;&gt;Lock_lockState_ClosingLowerGate</title>
<path fill="none" stroke="black" d="M197.779,-280.192C139.139,-278.026 52.0409,-270.618 31,-246 -2.70263,-206.568 75.7,-196.486 139.451,-194.482"/>
<polygon fill="black" stroke="black" points="139.629,-197.978 149.537,-194.226 139.451,-190.98 139.629,-197.978"/>
<text text-anchor="middle" x="129.5" y="-234.3" font-family="Times,serif" font-size="14.00">after3minutes [!boatBlockingGate]</text>
</g>
<!-- Lock_lockState_ClosingLowerGate&#45;&gt;Lock_lockState_BothDoorsClosedLockEmpty -->
<g id="edge10" class="edge"><title>Lock_lockState_ClosingLowerGate&#45;&gt;Lock_lockState_BothDoorsClosedLockEmpty</title>
<path fill="none" stroke="black" d="M221.689,-175.89C229.875,-164.336 242.249,-149.816 257,-142 308.541,-114.691 329.311,-132.619 387,-124 388.498,-123.776 390.007,-123.55 391.526,-123.32"/>
<polygon fill="black" stroke="black" points="392.305,-126.742 401.664,-121.776 391.251,-119.822 392.305,-126.742"/>
<text text-anchor="middle" x="367.5" y="-146.3" font-family="Times,serif" font-size="14.00">lowerGateFullyClosed [!boatGoingUp]</text>
</g>
<!-- Lock_lockState_ClosingLowerGate&#45;&gt;Lock_lockState_RaisingWater -->
<g id="edge17" class="edge"><title>Lock_lockState_ClosingLowerGate&#45;&gt;Lock_lockState_RaisingWater</title>
<path fill="none" stroke="black" d="M196.369,-175.981C179.004,-153.636 154.902,-114.184 176,-88 208.11,-48.1491 354.374,-30.1059 436.542,-22.9906"/>
<polygon fill="black" stroke="black" points="437.047,-26.4607 446.719,-22.1368 436.462,-19.4852 437.047,-26.4607"/>
<text text-anchor="middle" x="284" y="-102.3" font-family="Times,serif" font-size="14.00">lowerGateFullyClosed [boatGoingUp]</text>
</g>
<!-- Lock_lockState_RaisingWater&#45;&gt;Lock_lockState_OpeningUpperGate -->
<g id="edge4" class="edge"><title>Lock_lockState_RaisingWater&#45;&gt;Lock_lockState_OpeningUpperGate</title>
<path fill="none" stroke="black" d="M539.421,-21.5632C590.827,-25.3496 669.325,-34.2514 691,-54 708.375,-69.8306 705,-81.4948 705,-105 705,-635 705,-635 705,-635 705,-668.114 618.891,-693.17 553.213,-707.465"/>
<polygon fill="black" stroke="black" points="552.326,-704.075 543.274,-709.581 553.783,-710.922 552.326,-704.075"/>
<text text-anchor="middle" x="789" y="-366.3" font-family="Times,serif" font-size="14.00">waterLevelMatchesUpStream</text>
</g>
</g>
</svg>
