<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.29.20121108.1600 (20121108.1600)
 -->
<!-- Title: CanalLockStateMachine Pages: 1 -->
<svg width="696pt" height="720pt"
 viewBox="0.00 0.00 696.28 720.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(0.794702 0.794702) rotate(0) translate(4 902)">
<title>CanalLockStateMachine</title>
<polygon fill="white" stroke="white" points="-4,5 -4,-902 873.152,-902 873.152,5 -4,5"/>
<!-- start_Lock_lockState -->
<g id="node1" class="node"><title>start_Lock_lockState</title>
<ellipse fill="black" stroke="black" cx="206" cy="-891" rx="7.2" ry="7.2"/>
</g>
<!-- Lock_lockState_BothDoorsClosedLockFull -->
<g id="node2" class="node"><title>Lock_lockState_BothDoorsClosedLockFull</title>
<path fill="none" stroke="black" d="M277.253,-846C277.253,-846 134.747,-846 134.747,-846 128.747,-846 122.747,-840 122.747,-834 122.747,-834 122.747,-822 122.747,-822 122.747,-816 128.747,-810 134.747,-810 134.747,-810 277.253,-810 277.253,-810 283.253,-810 289.253,-816 289.253,-822 289.253,-822 289.253,-834 289.253,-834 289.253,-840 283.253,-846 277.253,-846"/>
<text text-anchor="middle" x="206" y="-822.4" font-family="Times,serif" font-size="14.00">BothDoorsClosedLockFull</text>
</g>
<!-- start_Lock_lockState&#45;&gt;Lock_lockState_BothDoorsClosedLockFull -->
<g id="edge1" class="edge"><title>start_Lock_lockState&#45;&gt;Lock_lockState_BothDoorsClosedLockFull</title>
<path fill="none" stroke="black" d="M206,-883.472C206,-876.902 206,-866.324 206,-856.229"/>
<polygon fill="black" stroke="black" points="209.5,-856.073 206,-846.073 202.5,-856.073 209.5,-856.073"/>
</g>
<!-- Lock_lockState_OpeningUpperGate -->
<g id="node3" class="node"><title>Lock_lockState_OpeningUpperGate</title>
<path fill="none" stroke="black" d="M528.223,-756C528.223,-756 427.777,-756 427.777,-756 421.777,-756 415.777,-750 415.777,-744 415.777,-744 415.777,-732 415.777,-732 415.777,-726 421.777,-720 427.777,-720 427.777,-720 528.223,-720 528.223,-720 534.223,-720 540.223,-726 540.223,-732 540.223,-732 540.223,-744 540.223,-744 540.223,-750 534.223,-756 528.223,-756"/>
<text text-anchor="middle" x="478" y="-732.4" font-family="Times,serif" font-size="14.00">OpeningUpperGate</text>
</g>
<!-- Lock_lockState_BothDoorsClosedLockFull&#45;&gt;Lock_lockState_OpeningUpperGate -->
<g id="edge3" class="edge"><title>Lock_lockState_BothDoorsClosedLockFull&#45;&gt;Lock_lockState_OpeningUpperGate</title>
<path fill="none" stroke="black" d="M258.767,-809.928C303.717,-795.386 368.377,-774.466 415.829,-759.114"/>
<polygon fill="black" stroke="black" points="416.943,-762.432 425.38,-756.024 414.788,-755.772 416.943,-762.432"/>
<text text-anchor="middle" x="464.494" y="-777.4" font-family="Times,serif" font-size="14.00">boatRequestsToEnterAndGoDown</text>
</g>
<!-- Lock_lockState_LoweringWater -->
<g id="node6" class="node"><title>Lock_lockState_LoweringWater</title>
<path fill="none" stroke="black" d="M278.133,-486C278.133,-486 199.867,-486 199.867,-486 193.867,-486 187.867,-480 187.867,-474 187.867,-474 187.867,-462 187.867,-462 187.867,-456 193.867,-450 199.867,-450 199.867,-450 278.133,-450 278.133,-450 284.133,-450 290.133,-456 290.133,-462 290.133,-462 290.133,-474 290.133,-474 290.133,-480 284.133,-486 278.133,-486"/>
<text text-anchor="middle" x="239" y="-462.4" font-family="Times,serif" font-size="14.00">LoweringWater</text>
</g>
<!-- Lock_lockState_BothDoorsClosedLockFull&#45;&gt;Lock_lockState_LoweringWater -->
<g id="edge8" class="edge"><title>Lock_lockState_BothDoorsClosedLockFull&#45;&gt;Lock_lockState_LoweringWater</title>
<path fill="none" stroke="black" d="M122.509,-823.404C65.4062,-815.918 0,-795.099 0,-739 0,-739 0,-739 0,-557 0,-519.176 106.745,-492.604 177.558,-479.138"/>
<polygon fill="black" stroke="black" points="178.537,-482.517 187.729,-477.247 177.257,-475.635 178.537,-482.517"/>
<text text-anchor="middle" x="88.939" y="-642.4" font-family="Times,serif" font-size="14.00">boatRequestsToEnterAndGoUp</text>
</g>
<!-- Lock_lockState_UpperGateOpen -->
<g id="node4" class="node"><title>Lock_lockState_UpperGateOpen</title>
<path fill="none" stroke="black" d="M519.305,-666C519.305,-666 436.695,-666 436.695,-666 430.695,-666 424.695,-660 424.695,-654 424.695,-654 424.695,-642 424.695,-642 424.695,-636 430.695,-630 436.695,-630 436.695,-630 519.305,-630 519.305,-630 525.305,-630 531.305,-636 531.305,-642 531.305,-642 531.305,-654 531.305,-654 531.305,-660 525.305,-666 519.305,-666"/>
<text text-anchor="middle" x="478" y="-642.4" font-family="Times,serif" font-size="14.00">UpperGateOpen</text>
</g>
<!-- Lock_lockState_OpeningUpperGate&#45;&gt;Lock_lockState_UpperGateOpen -->
<g id="edge5" class="edge"><title>Lock_lockState_OpeningUpperGate&#45;&gt;Lock_lockState_UpperGateOpen</title>
<path fill="none" stroke="black" d="M478,-719.614C478,-707.24 478,-690.369 478,-676.22"/>
<polygon fill="black" stroke="black" points="481.5,-676.05 478,-666.05 474.5,-676.05 481.5,-676.05"/>
<text text-anchor="middle" x="537.097" y="-687.4" font-family="Times,serif" font-size="14.00">upperGateFullyOpen</text>
</g>
<!-- Lock_lockState_ClosingUpperGate -->
<g id="node5" class="node"><title>Lock_lockState_ClosingUpperGate</title>
<path fill="none" stroke="black" d="M287.235,-576C287.235,-576 190.765,-576 190.765,-576 184.765,-576 178.765,-570 178.765,-564 178.765,-564 178.765,-552 178.765,-552 178.765,-546 184.765,-540 190.765,-540 190.765,-540 287.235,-540 287.235,-540 293.235,-540 299.235,-546 299.235,-552 299.235,-552 299.235,-564 299.235,-564 299.235,-570 293.235,-576 287.235,-576"/>
<text text-anchor="middle" x="239" y="-552.4" font-family="Times,serif" font-size="14.00">ClosingUpperGate</text>
</g>
<!-- Lock_lockState_UpperGateOpen&#45;&gt;Lock_lockState_ClosingUpperGate -->
<g id="edge6" class="edge"><title>Lock_lockState_UpperGateOpen&#45;&gt;Lock_lockState_ClosingUpperGate</title>
<path fill="none" stroke="black" d="M424.433,-646.879C361.691,-645.471 263.297,-638.887 239.741,-612 233.661,-605.06 232.23,-595.426 232.739,-586.273"/>
<polygon fill="black" stroke="black" points="236.216,-586.672 233.993,-576.313 229.271,-585.797 236.216,-586.672"/>
<text text-anchor="middle" x="354.129" y="-597.4" font-family="Times,serif" font-size="14.00">boatInLockRequestingToGoDown / {...}</text>
</g>
<!-- Lock_lockState_UpperGateOpen&#45;&gt;Lock_lockState_ClosingUpperGate -->
<g id="edge7" class="edge"><title>Lock_lockState_UpperGateOpen&#45;&gt;Lock_lockState_ClosingUpperGate</title>
<path fill="none" stroke="black" d="M479.509,-629.825C479.536,-618.104 477.43,-603.107 468,-594 445.848,-572.607 368.252,-564.284 309.472,-561.049"/>
<polygon fill="black" stroke="black" points="309.64,-557.553 299.474,-560.538 309.282,-564.544 309.64,-557.553"/>
<text text-anchor="middle" x="576.161" y="-597.4" font-family="Times,serif" font-size="14.00">after3minutes [!boatBlockingGate]</text>
</g>
<!-- Lock_lockState_ClosingUpperGate&#45;&gt;Lock_lockState_BothDoorsClosedLockFull -->
<g id="edge2" class="edge"><title>Lock_lockState_ClosingUpperGate&#45;&gt;Lock_lockState_BothDoorsClosedLockFull</title>
<path fill="none" stroke="black" d="M233.391,-576.298C231.756,-581.896 230.112,-588.165 229,-594 214.968,-667.619 209.218,-756.054 207.099,-799.777"/>
<polygon fill="black" stroke="black" points="203.596,-799.744 206.635,-809.894 210.589,-800.064 203.596,-799.744"/>
<text text-anchor="middle" x="334.785" y="-687.4" font-family="Times,serif" font-size="14.00">upperGateFullyClosed [!boatGoingDown]</text>
</g>
<!-- Lock_lockState_ClosingUpperGate&#45;&gt;Lock_lockState_LoweringWater -->
<g id="edge9" class="edge"><title>Lock_lockState_ClosingUpperGate&#45;&gt;Lock_lockState_LoweringWater</title>
<path fill="none" stroke="black" d="M239,-539.614C239,-527.24 239,-510.369 239,-496.22"/>
<polygon fill="black" stroke="black" points="242.5,-496.05 239,-486.05 235.5,-496.05 242.5,-496.05"/>
<text text-anchor="middle" x="355.454" y="-507.4" font-family="Times,serif" font-size="14.00">upperGateFullyClosed [boatGoingDown]</text>
</g>
<!-- Lock_lockState_OpeningLowerGate -->
<g id="node8" class="node"><title>Lock_lockState_OpeningLowerGate</title>
<path fill="none" stroke="black" d="M303.384,-396C303.384,-396 200.616,-396 200.616,-396 194.616,-396 188.616,-390 188.616,-384 188.616,-384 188.616,-372 188.616,-372 188.616,-366 194.616,-360 200.616,-360 200.616,-360 303.384,-360 303.384,-360 309.384,-360 315.384,-366 315.384,-372 315.384,-372 315.384,-384 315.384,-384 315.384,-390 309.384,-396 303.384,-396"/>
<text text-anchor="middle" x="252" y="-372.4" font-family="Times,serif" font-size="14.00">OpeningLowerGate</text>
</g>
<!-- Lock_lockState_LoweringWater&#45;&gt;Lock_lockState_OpeningLowerGate -->
<g id="edge11" class="edge"><title>Lock_lockState_LoweringWater&#45;&gt;Lock_lockState_OpeningLowerGate</title>
<path fill="none" stroke="black" d="M241.568,-449.614C243.396,-437.24 245.889,-420.369 247.979,-406.22"/>
<polygon fill="black" stroke="black" points="251.482,-406.455 249.481,-396.05 244.557,-405.432 251.482,-406.455"/>
<text text-anchor="middle" x="339.131" y="-417.4" font-family="Times,serif" font-size="14.00">waterLevelMatchesDownStream</text>
</g>
<!-- Lock_lockState_BothDoorsClosedLockEmpty -->
<g id="node7" class="node"><title>Lock_lockState_BothDoorsClosedLockEmpty</title>
<path fill="none" stroke="black" d="M569.326,-126C569.326,-126 410.674,-126 410.674,-126 404.674,-126 398.674,-120 398.674,-114 398.674,-114 398.674,-102 398.674,-102 398.674,-96 404.674,-90 410.674,-90 410.674,-90 569.326,-90 569.326,-90 575.326,-90 581.326,-96 581.326,-102 581.326,-102 581.326,-114 581.326,-114 581.326,-120 575.326,-126 569.326,-126"/>
<text text-anchor="middle" x="490" y="-102.4" font-family="Times,serif" font-size="14.00">BothDoorsClosedLockEmpty</text>
</g>
<!-- Lock_lockState_BothDoorsClosedLockEmpty&#45;&gt;Lock_lockState_OpeningLowerGate -->
<g id="edge12" class="edge"><title>Lock_lockState_BothDoorsClosedLockEmpty&#45;&gt;Lock_lockState_OpeningLowerGate</title>
<path fill="none" stroke="black" d="M488.34,-126.237C485.086,-154.1 476.149,-210.136 454,-252 428.972,-299.305 419.293,-313.492 374,-342 359.268,-351.272 342.012,-358.155 325.191,-363.24"/>
<polygon fill="black" stroke="black" points="324.024,-359.932 315.36,-366.03 325.935,-366.666 324.024,-359.932"/>
<text text-anchor="middle" x="550.939" y="-237.4" font-family="Times,serif" font-size="14.00">boatRequestsToEnterAndGoUp</text>
</g>
<!-- Lock_lockState_RaisingWater -->
<g id="node11" class="node"><title>Lock_lockState_RaisingWater</title>
<path fill="none" stroke="black" d="M523.395,-36C523.395,-36 456.605,-36 456.605,-36 450.605,-36 444.605,-30 444.605,-24 444.605,-24 444.605,-12 444.605,-12 444.605,-6 450.605,-0 456.605,-0 456.605,-0 523.395,-0 523.395,-0 529.395,-0 535.395,-6 535.395,-12 535.395,-12 535.395,-24 535.395,-24 535.395,-30 529.395,-36 523.395,-36"/>
<text text-anchor="middle" x="490" y="-12.4" font-family="Times,serif" font-size="14.00">RaisingWater</text>
</g>
<!-- Lock_lockState_BothDoorsClosedLockEmpty&#45;&gt;Lock_lockState_RaisingWater -->
<g id="edge16" class="edge"><title>Lock_lockState_BothDoorsClosedLockEmpty&#45;&gt;Lock_lockState_RaisingWater</title>
<path fill="none" stroke="black" d="M490,-89.614C490,-77.2403 490,-60.3686 490,-46.2198"/>
<polygon fill="black" stroke="black" points="493.5,-46.0504 490,-36.0504 486.5,-46.0504 493.5,-46.0504"/>
<text text-anchor="middle" x="587.494" y="-57.4" font-family="Times,serif" font-size="14.00">boatRequestsToEnterAndGoDown</text>
</g>
<!-- Lock_lockState_LowerGateOpen -->
<g id="node9" class="node"><title>Lock_lockState_LowerGateOpen</title>
<path fill="none" stroke="black" d="M294.467,-306C294.467,-306 209.533,-306 209.533,-306 203.533,-306 197.533,-300 197.533,-294 197.533,-294 197.533,-282 197.533,-282 197.533,-276 203.533,-270 209.533,-270 209.533,-270 294.467,-270 294.467,-270 300.467,-270 306.467,-276 306.467,-282 306.467,-282 306.467,-294 306.467,-294 306.467,-300 300.467,-306 294.467,-306"/>
<text text-anchor="middle" x="252" y="-282.4" font-family="Times,serif" font-size="14.00">LowerGateOpen</text>
</g>
<!-- Lock_lockState_OpeningLowerGate&#45;&gt;Lock_lockState_LowerGateOpen -->
<g id="edge13" class="edge"><title>Lock_lockState_OpeningLowerGate&#45;&gt;Lock_lockState_LowerGateOpen</title>
<path fill="none" stroke="black" d="M252,-359.614C252,-347.24 252,-330.369 252,-316.22"/>
<polygon fill="black" stroke="black" points="255.5,-316.05 252,-306.05 248.5,-316.05 255.5,-316.05"/>
<text text-anchor="middle" x="311.097" y="-327.4" font-family="Times,serif" font-size="14.00">lowerGateFullyOpen</text>
</g>
<!-- Lock_lockState_ClosingLowerGate -->
<g id="node10" class="node"><title>Lock_lockState_ClosingLowerGate</title>
<path fill="none" stroke="black" d="M257.9,-216C257.9,-216 160.1,-216 160.1,-216 154.1,-216 148.1,-210 148.1,-204 148.1,-204 148.1,-192 148.1,-192 148.1,-186 154.1,-180 160.1,-180 160.1,-180 257.9,-180 257.9,-180 263.9,-180 269.9,-186 269.9,-192 269.9,-192 269.9,-204 269.9,-204 269.9,-210 263.9,-216 257.9,-216"/>
<text text-anchor="middle" x="209" y="-192.4" font-family="Times,serif" font-size="14.00">ClosingLowerGate</text>
</g>
<!-- Lock_lockState_LowerGateOpen&#45;&gt;Lock_lockState_ClosingLowerGate -->
<g id="edge14" class="edge"><title>Lock_lockState_LowerGateOpen&#45;&gt;Lock_lockState_ClosingLowerGate</title>
<path fill="none" stroke="black" d="M246.15,-269.944C242.306,-259.38 236.907,-245.653 231,-234 229.475,-230.991 227.768,-227.908 225.998,-224.878"/>
<polygon fill="black" stroke="black" points="228.819,-222.783 220.615,-216.08 222.848,-226.436 228.819,-222.783"/>
<text text-anchor="middle" x="344.574" y="-237.4" font-family="Times,serif" font-size="14.00">boatInLockRequestingToGoUp / {...}</text>
</g>
<!-- Lock_lockState_LowerGateOpen&#45;&gt;Lock_lockState_ClosingLowerGate -->
<g id="edge15" class="edge"><title>Lock_lockState_LowerGateOpen&#45;&gt;Lock_lockState_ClosingLowerGate</title>
<path fill="none" stroke="black" d="M197.474,-286.186C139.008,-284.023 51.7142,-276.624 30.6787,-252 -2.82467,-212.782 74.8753,-201.869 138.069,-199.209"/>
<polygon fill="black" stroke="black" points="138.2,-202.706 148.067,-198.849 137.948,-195.711 138.2,-202.706"/>
<text text-anchor="middle" x="129.161" y="-237.4" font-family="Times,serif" font-size="14.00">after3minutes [!boatBlockingGate]</text>
</g>
<!-- Lock_lockState_ClosingLowerGate&#45;&gt;Lock_lockState_BothDoorsClosedLockEmpty -->
<g id="edge10" class="edge"><title>Lock_lockState_ClosingLowerGate&#45;&gt;Lock_lockState_BothDoorsClosedLockEmpty</title>
<path fill="none" stroke="black" d="M218.885,-179.994C226.887,-167.874 239.313,-152.31 254.541,-144 305.533,-116.173 326.549,-134.6 384,-126 385.498,-125.776 387.007,-125.549 388.526,-125.319"/>
<polygon fill="black" stroke="black" points="389.306,-128.741 398.663,-123.772 388.25,-121.821 389.306,-128.741"/>
<text text-anchor="middle" x="365.229" y="-147.4" font-family="Times,serif" font-size="14.00">lowerGateFullyClosed [!boatGoingUp]</text>
</g>
<!-- Lock_lockState_ClosingLowerGate&#45;&gt;Lock_lockState_RaisingWater -->
<g id="edge17" class="edge"><title>Lock_lockState_ClosingLowerGate&#45;&gt;Lock_lockState_RaisingWater</title>
<path fill="none" stroke="black" d="M194.339,-179.659C176.949,-156.892 152.846,-116.692 174.203,-90 206.188,-50.026 352.62,-30.9873 434.381,-23.3328"/>
<polygon fill="black" stroke="black" points="434.861,-26.8037 444.503,-22.4124 434.227,-19.8325 434.861,-26.8037"/>
<text text-anchor="middle" x="282.898" y="-102.4" font-family="Times,serif" font-size="14.00">lowerGateFullyClosed [boatGoingUp]</text>
</g>
<!-- Lock_lockState_RaisingWater&#45;&gt;Lock_lockState_OpeningUpperGate -->
<g id="edge4" class="edge"><title>Lock_lockState_RaisingWater&#45;&gt;Lock_lockState_OpeningUpperGate</title>
<path fill="none" stroke="black" d="M535.766,-21.5237C586.936,-25.2854 665.471,-34.176 687,-54 704.923,-70.5032 701,-82.6365 701,-107 701,-649 701,-649 701,-649 701,-682.007 615.4,-707.894 550.269,-722.813"/>
<polygon fill="black" stroke="black" points="549.406,-719.419 540.414,-725.023 550.938,-726.25 549.406,-719.419"/>
<text text-anchor="middle" x="784.576" y="-372.4" font-family="Times,serif" font-size="14.00">waterLevelMatchesUpStream</text>
</g>
</g>
</svg>
