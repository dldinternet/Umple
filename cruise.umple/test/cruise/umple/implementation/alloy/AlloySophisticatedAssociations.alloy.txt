// Alloy file generated using Umple from AlloySophisticatedAssociations.ump 

sig A {
  bs : set B,
  cs : some C
}

sig B {
  cs : some C,
  a : lone A
}

sig C {
  as : some A,
  b : one B,
  d : one D
}

sig D {
  cs : some C
}

fact {
  all a1 : A |
    #a1.bs >= 0 && #a1.bs <= 2
}

fact {
  all b1 : B |
    #b1.a >= 0 && #b1.a <= 1
}

fact {
  all a1 : A, b1 : B |
    a1 = none || a1 != none && b1 != none || b1 = none && a1 in a[b1] <=> b1 in bs[a1]
}

fact {
  all b1 : B |
    #b1.cs >= 1 && #b1.cs <= 3
}

fact {
  all c1 : C |
    #c1.b = 1
}

fact {
  all b1 : B, c1 : C |
    b1 != none && c1 != none && b1 in b[c1] <=> c1 in cs[b1]
}

fact {
  all c1 : C |
    #c1.as >= 3 && #c1.as <= 7
}

fact {
  all a1 : A |
    #a1.cs >= 3 && #a1.cs <= 5
}

fact {
  all c1 : C, a1 : A |
    c1 != none && a1 != none && c1 in cs[a1] <=> a1 in as[c1]
}

fact {
  all d1 : D |
    #d1.cs = 4
}

fact {
  all c1 : C |
    #c1.d = 1
}

fact {
  all d1 : D, c1 : C |
    d1 != none && c1 != none && d1 in d[c1] <=> c1 in cs[d1]
}