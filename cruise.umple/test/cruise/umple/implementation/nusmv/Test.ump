// Illustration of nested states. Event e1 will take the system into
// state s2, and its first substrate s2a. Event e2 directly goes to s2b.
// Event e3 toggles between s2b and s2a. Event e1 when in s2, goes to s1

class TransmissionDrive{

	drive {
      selectNeutral -> neutral;
      selectFirst -> first;
      selectSecond -> second;
    
      first {
        reachSecondSpeed [driveSelected] -> second;
      }
      
      second {
        reachThirdSpeed [driveSelected] -> third;
        dropBelowSecondSpeed [driveSelected] -> first;
        reachSecondSpeed [driveSelected] -> second;
      }
      
      third {
        dropBelowThirdSpeed-> second;
      }
    }

}